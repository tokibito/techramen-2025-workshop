# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## プロジェクト概要

このリポジトリは、TechRAMEN 2025カンファレンスで行われるSQLワークショップ「SQL基礎トレーニング～JOIN、GROUP BYの使い方を学ぼう」（講師：tokibito）の教材リポジトリです。

### ワークショップの概要
このワークショップ（40分）では、SQLの中でも特に重要なJOIN操作とGROUP BY句に焦点を当てて学習します。中学校の成績管理システムのデータを題材に、SQLクエリの書き方を身につけます。

### 対象者
- SQLでSELECT文を使ったことがある方（WHERE句やORDER BY句もやったことがあれば尚良し）
- JOINやGROUP BYの使い方を理解したい方

### 学習内容（40分）
1. **導入（5分）**
   - 今回使う環境の説明
2. **JOIN編（15分）**
   - なぜJOINが必要か
   - INNER JOINの基本
   - 複数テーブルの結合
3. **GROUP BY編（15分）**
   - 集計の基本
   - 実用的な集計例
   - クラス別成績表の作成
4. **質疑応答（5分）**

### 主要コンポーネント
- ワークショップドキュメント（Sphinx形式）
- PostgreSQLとpgAdminのDocker Compose環境
- SQLサンプルコードと演習問題
- SQL基礎に焦点：JOIN操作とGROUP BY句

### データベーステーマ
中学校の成績管理システムを模したデータを使用します：
- **学級**: 1〜3年生、各学年2クラス
- **生徒**: 各クラス10名、計60名
- **教科**: 国語、数学、英語、理科、社会
- **テスト**: 年間5回分の成績データ

## 開発ガイドライン

### 1. 言語とコミュニケーション
- **主要言語**: 日本語（ドキュメントとコメント）
- ワークショップ参加者に適した、明確で教育的な言語を使用
- 必要に応じて日本語と英語の技術用語を併記

### 2. SQLコード標準
- 明確でコメント付きのSQLクエリを記述
- 一貫したフォーマットとインデントを使用
- 複雑なクエリには説明的なコメントを含める
- PostgreSQLのベストプラクティスと構文に従う

### 3. Docker環境
- PostgreSQLとpgAdminのDocker Compose設定を維持
- ワークショップ参加者が簡単にセットアップできる環境を確保
- ドキュメントに明確なセットアップ手順を含める

### 4. ドキュメント構造
- ワークショップ教材にはSphinx形式を使用
- 基本から応用へと段階的にコンテンツを整理
- 実践的な例と演習を含める
- 各セクションに明確な学習目標を提供
- **重要**: rstファイルは必ずUTF-8エンコーディングで作成する（日本語を含むため）

### 5. 教育のベストプラクティス
- シンプルな概念から始めて徐々に複雑性を構築
- 実世界の例とユースケースを提供
- 各概念の後にハンズオン演習を含める
- 詳細な説明付きの解答を提供
- **重要**: 説明口調はカジュアルで親しみやすくする（硬い表現は避ける）
- **重要**: 時間制約（40分）を考慮し、説明は極力簡潔にする
- **重要**: 感嘆符（！）は使用しない（カジュアルさは保ちつつ落ち着いた表現にする）

### 6. ディレクトリ構成
```
.
├── docker/          # Docker Compose設定
│   ├── compose.yml
│   └── init.sql    # 初期データ
├── sql/            # SQLサンプルファイル
│   ├── basics/     # 基礎編
│   ├── joins/      # JOIN編
│   └── groupby/    # GROUP BY編
├── docs/           # ワークショップドキュメント
│   └── index.rst   # 目次
├── solutions/      # 演習問題の解答
├── README.md       # プロジェクト概要とセットアップ手順
└── CLAUDE.md       # Claudeコード向けガイドライン
```

### 7. コードレビューチェックリスト
- [ ] SQLクエリがPostgreSQL用に構文的に正しい
- [ ] コメントが複雑なクエリの目的とロジックを説明している
- [ ] 例が現実的で関連性のあるデータを使用している
- [ ] ドキュメントが明確で教育的である
- [ ] Docker環境がエラーなく起動する

### 8. 一般的なタスク

#### 新しいSQL例の追加
1. 適切な名前の.sqlファイルを関連ディレクトリに作成
2. 目的と学習目標を含むヘッダーコメントを含める
3. クエリを説明するステップバイステップのコメントを追加
4. PostgreSQL環境でテスト
5. 対応する演習ファイルを作成

#### ドキュメントの更新
1. Sphinxドキュメント標準に従う
2. 適切な構文ハイライト付きのコードブロックを含める
3. 必要に応じて図や視覚的な補助を追加
4. 目次とナビゲーションを更新

#### Docker環境の変更
1. コミット前にローカルで変更をテスト
2. 新しい環境変数をドキュメント化
3. 必要に応じてセットアップ手順を更新
4. ワークショップ要件との互換性を確保

### 9. ワークショップ固有の考慮事項
- 参加者がSQL初心者である可能性を念頭に置く
- 技術的な問題に対するフォールバックオプションを提供
- ドキュメントにトラブルシューティングセクションを含める
- ワークショップ形式の時間制約を考慮

### 10. バージョン管理
- 日本語または英語で記述的なコミットメッセージを使用
- 異なるワークショップセッション用にリリースをタグ付け
- 参加者のためにmainブランチを安定した状態に保つ

## 環境セットアップ

### ホスティングされた環境を使う場合
- Webブラウザで当日共有されたURLにアクセスしてください。

### ローカル環境でのセットアップ

必要なソフトウェア:
- Docker Desktop（Windows/Mac）またはDocker Engine + Docker Compose（Linux）
- Webブラウザ

1. リポジトリのクローンまたはダウンロード
```bash
git clone https://github.com/tokibito/techramen-2025-workshop.git
cd techramen-2025-workshop
```

2. Docker環境の起動
```bash
cd docker
docker-compose up -d
```

3. pgAdminへのアクセス
- URL: http://localhost:8080
- Email: admin@workshop.local
- Password: admin123

## 技術スタック
- **データベース**: PostgreSQL（最新安定版）
- **管理ツール**: pgAdmin 4
- **コンテナ**: Docker & Docker Compose
- **ドキュメント**: MyST parserを使用したSphinx
- **対象者**: SQL初心者から中級学習者

## 重要な注意事項
- カンファレンス中はホスト環境を使用する予定
- ローカルDockerセットアップはバックアップオプションとして提供
- 理論よりも実践的でハンズオンな学習に焦点を当てる
- すべての例が提供されたPostgreSQLバージョンで動作することを確認

## 連絡先
- ワークショップ講師: tokibito
- カンファレンス: TechRAMEN 2025
- プロポーザル: https://fortee.jp/techramen-25-conf/proposal/7d739f1a-8636-4851-8db1-dc692a6a1ec7

## 講師情報

**tokibito**
- Python・Djangoエンジニア
- [GitHub](https://github.com/tokibito)
- [X](https://x.com/tokibito)
- [Web](https://nullpobug.com/)

## ドキュメントのビルド

ドキュメントはSphinxを使用してビルドできます。

1. venvを作成
```bash
python3 -m venv venv
source venv/bin/activate  # Windowsの場合は venv\Scripts\activate
```

2. 必要なパッケージのインストール
```bash
pip install -r requirements.txt
```

3. ドキュメントのビルド
```bash
make html
```

ビルド結果は `docs/_build/html/` に出力されます。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。